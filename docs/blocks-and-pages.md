# Блоки и страницы

OpenEdu построен на основе платформы openedX.

## Блоки
Контент курсов поделён на блоки. Поробнее можно почитать по ссылке: https://docs.openedx.org/en/latest/educators/how-tos/advanced_features/lti_determine_content_address.html

От крупного к мелкому:

| Тип блока            | значение                                            |
|----------------------|-----------------------------------------------------|
| chapter              | раздел                                              |
| sequential           | подсекция                                           |
| vertical             | юнит, тема                                          |
| problem, html, video | единица контента, таких может быть несколько в теме |

У каждого блока есть айди в специальном формате
> {key type}:{org}+{course}+{run}+type@{type}+block@{display name}

В коде у нас есть класс BlockID (и его производные),
чтобы удобнее работать с этими айдишниками (а главное - не путать sequential и vertical)

## Страницы
Чтобы получить задания, нужно сначала получить соответсвующий vertical блок.

Для начала, нужно получить sequential блок, в нём есть список вертикальных блоков и прочая информация.
Какой-то особо важной информации в sequential блоке я не вижу, поэтому мы
храним его как список вертикальных блоков.

```python
class VerticalBlock:
    id: str
    title: str
    complete: bool
    type: str
    graded: bool
```

Итак, у нас есть вертикальный блок, его содержимое - html страница
(которую мы получаем отдельным запросом).

Дальше нужно распарсить эту страницу

## Задачи и вопросы
На странице может быть одна или несколько задач.
У каждой задачи есть кнопка "отправить".

Каждая задача может состоять из одного или нескольких вопросов.
Вопросы могут быть разных типов:

|           |                                                             |
|-----------|-------------------------------------------------------------|
| choice    | одиночный или множественный выбор                           |
| match     | таблица установки соответсвия (первый столбец зафиксирован) |
| freematch | таблица соответсвия без фиксированных столбцов              |
| new_match | продвинутая таблица соответсвия                             |
| select    | выпадающий список                                           |

И мы должны уметь парсить эти вопросы.
В результате для каждого vertical блока мы получаем список вопросов (класс `Question`)
